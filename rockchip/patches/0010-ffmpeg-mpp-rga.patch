--- a/package/ffmpeg/Config.in	2025-06-24 00:32:11.000000000 +0800
+++ b/package/ffmpeg/Config.in	2025-08-11 20:40:33.006709423 +0800
@@ -25,6 +25,17 @@

 if BR2_PACKAGE_FFMPEG

+config BR2_PACKAGE_FFMPEG_RKMPP
+       bool "Enable Rockchip MPP"
+       help
+         provide full hardware transcoding pipeline in FFmpeg CLI for
+         Rockchip platforms that support MPP (Media Process Platform)
+         and RGA (2D Raster Graphic Acceleration).
+       depends on BR2_PACKAGE_ROCKCHIP
+       default y
+       select BR2_PACKAGE_ROCKCHIP_MPP
+       select BR2_PACKAGE_ROCKCHIP_RGA
+
 config BR2_PACKAGE_FFMPEG_GPL
 	bool "Enable GPL code"
 	help
--- a/package/ffmpeg/ffmpeg.mk	2025-06-24 00:32:11.000000000 +0800
+++ b/package/ffmpeg/ffmpeg.mk	2025-08-11 20:40:33.007709427 +0800
@@ -5,11 +5,17 @@
 ################################################################################

 # Update FFMPEG_CPE_ID_VERSION if needed
+ifeq ($(BR2_PACKAGE_FFMPEG_RKMPP),y)
+FFMPEG_VERSION = 7.1
+FFMPEG_SITE = $(call github,nyanmisaka,ffmpeg-rockchip,$(FFMPEG_VERSION))
+FFMPEG_CPE_ID_VERSION = 7.1
+else
 FFMPEG_VERSION = n6.1.2-27-ge16ff06adb
 FFMPEG_SITE = https://git.ffmpeg.org/ffmpeg.git
 FFMPEG_SITE_METHOD = git
-FFMPEG_INSTALL_STAGING = YES
 FFMPEG_CPE_ID_VERSION = 6.1.2
+endif
+FFMPEG_INSTALL_STAGING = YES

 FFMPEG_LICENSE = LGPL-2.1+, libjpeg license
 FFMPEG_LICENSE_FILES = LICENSE.md COPYING.LGPLv2.1
@@ -34,7 +40,6 @@
	--disable-gray \
	--enable-swscale-alpha \
	--disable-small \
-	--disable-crystalhd \
	--disable-dxva2 \
	--enable-runtime-cpudetect \
	--disable-hardcoded-tables \
@@ -600,6 +605,11 @@
 FFMPEG_CONF_ENV += CFLAGS="$(FFMPEG_CFLAGS)"
 FFMPEG_CONF_OPTS += $(call qstrip,$(BR2_PACKAGE_FFMPEG_EXTRACONF))

+ifeq ($(BR2_PACKAGE_FFMPEG_RKMPP),y)
+FFMPEG_DEPENDENCIES += rockchip-mpp rockchip-rga
+FFMPEG_CONF_OPTS += --enable-version3 --enable-rkmpp --enable-rkrga
+endif
+
 # Override FFMPEG_CONFIGURE_CMDS: FFmpeg does not support --target and others
 define FFMPEG_CONFIGURE_CMDS
 	(cd $(FFMPEG_SRCDIR) && rm -rf config.cache && \
